<div class="dataTable_wrapper">
    <legend class="section" style="font-weight: 600;"> Edição de Pagamentos</legend>
    <div style="float: right;">
        <button class="btn btn-success" ng-disabled="frm.$invalid" ng-click="save()"  >Salvar <i class="fa fa-plus"></i></button>
        <a href="#/pagamentos" class=" btn btn-primary" >Voltar <i class="fa fa-reply"></i></a>
    </div>
    <div class="row" style="padding-top:3em;">
        <legend class="section" style="font-weight: 600;"></legend>
        <form novalidate action="" name="frm" id="frm">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 form-group">
                        <label for="person-search">Pessoa</label>
                        <select id="person-search" class="form-control" ng-model="payment.person.id" placeholder="Selecione a Pessoa." style="width: 100%" autofocus required >
                            <option value="">Filtrar por Pessoa</option>
                            <option ng-repeat="p in persons"  value="{{p.id}}">{{p.name}}</option>
                        </select>
                        <span  style="color: #a94442;" ng-show="frm.person-search.$error.required && frm.person-search.$dirty">Campo Obrigatório</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 form-group">
                        <label for="date">Data Pagamento</label>
                        <input type="text" class="form-control" id="date" name="date" maxlength="10" ng-model="payment.date" required/>
                        <span  style="color: #a94442;" ng-show="frm.date.$error.required && frm.date.$dirty">Campo Obrigatório</span>
                    </div>
                    <div class="col-md-4 form-group">
                        <label for="datelow">Data Baixa</label>
                        <input type="text" class="form-control" id="datelow" name="datelow" maxlength="10" ng-model="payment.dateLow"/>
                        <span  style="color: #a94442;" ng-show="frm.datelow.$error.required && frm.datelow.$dirty">Campo Obrigatório</span>
                    </div>
                    <div class="col-md-4 form-group">
                        <label for="amount">Valor</label>
                        <input id="amount" class="form-control" style="width: 100%"  ng-model="payment.amount" maxlength="9" type="text" placeholder="Valor" ui-money-mask  required/></th>
                        <span  style="color: #a94442;" ng-show="frm.amount.$error.required && frm.amount.$dirty">Campo Obrigatório</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 form-group">
                        <label for="photo">Foto</label>
                        <select id="photo" class="form-control" ng-model="payment.photo.id" placeholder="Selecione a Foto." ng-change="test()" required>
                            <option value="">Filtrar por Foto</option>
                            <option ng-repeat="p in photos"  value="{{p.id}}">{{p.id}}</option>
                        </select>
                        <span  style="color: #a94442;" ng-show="frm.photo.$error.required && frm.photo.$dirty">Campo Obrigatório</span>
                    </div>
                    <div class="col-md-8 form-group">
                        <img  style="width: inherit; height: inherit" ng-src="data:image/JPEG;base64,{{photo.photo}}">
                    </div>

                </div>

            </div>
        </form>
    </div>
</div>
<script>
    $('#date').datepicker({
        format: 'dd-mm-yyyy',
        locale: 'pt-br',
        startDate:'-15d',
        endDate:'+15d'
    });
    $('#datelow').datepicker({
        format: 'dd-mm-yyyy',
        locale: 'pt-br',
        startDate:'-15d',
        endDate:'+15d'
    });
</script>